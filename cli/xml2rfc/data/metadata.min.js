async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t="",a=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(a){jsonfile="https://rfc-editor.org/rfc/rfc"+a+".json";try{const e=await fetch(jsonfile);t=(await e.json())[0]}catch(e){document.URL.indexOf("html")>=0?jsonfile=document.URL.replace(/html$/,"json"):jsonfile=document.URL+".json";const a=await fetch(jsonfile);t=(await a.json())[0]}}if(!t)return;e.style.display="block";const s="",r="https://datatracker.ietf.org/doc",d="https://datatracker.ietf.org/ipr/search",n="https://www.rfc-editor.org/info",l=t.doc_id.toLowerCase(),c=t.doc_id.slice(0,3).toLowerCase(),i=t.doc_id.slice(3).replace(/^0+/,""),f={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let u="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){t[e]=t[e].toLowerCase();var a=t[e].split(" ");sLen=a.length;var h="",p=1;for(let e=0;e<sLen;e++)p<sLen?h=h+o(a[e])+" ":h+=o(a[e]),p++;t[e]=h}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=t[e].length;for(let a=0;a<g;a++)t[e][a]&&(t[e][a]=String(t[e][a]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(t[e][a])+"'>"+t[e][a].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(t[e][a])+"'>"+t[e][a].slice(3)+"</a>",b++);t[e]=m}else if("see_also"==e){var w,y="",L=1;w=t[e].length;for(let a=0;a<w;a++)if(t[e][a]){t[e][a]=String(t[e][a]);var _=t[e][a].slice(0,3),v=t[e][a].slice(3).replace(/^0+/,"");y=L<w?y+"<a href='"+s+"/"+_.toLowerCase()+"/".concat(v.toLowierCase())+"'>"+_+" "+v+"</a>, ":y+"<a href='"+s+"/"+_.toLowerCase()+"/".concat(v.toLowerCase())+"'>"+_+" "+v+"</a>",L++}t[e]=y}else if("errata_url"==e){var j="";j=t[e]?j+"<a href='"+t[e]+"'>Errata exist</a>, <a href='"+r+"/"+l+"'>Datatracker</a>, <a href='"+d+"/?"+c+"="+i+"&submit="+c+"'>IPR</a>, <a href='"+n+"/"+l+"'>Info page</a>":"<a href='"+r+"/"+l+"'>Datatracker</a>, <a href='"+d+"/?"+c+"="+i+"&submit="+c+"'>IPR</a>, <a href='"+n+"/"+l+"'>Info page</a>",t[e]=j}""!=t[e]?"Errata"==f[e]?u+=`<dt>More info:</dt><dd>${t[e]}</dd>`:u+=`<dt>${f[e]}:</dt><dd>${t[e]}</dd>`:"Errata"==f[e]&&(u+=`<dt>More info:</dt><dd>${t[e]}</dd>`)}),u+="</dl>",e.innerHTML=u}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);